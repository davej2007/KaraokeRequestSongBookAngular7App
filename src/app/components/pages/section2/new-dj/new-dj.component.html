<div class="container">
    {{ page }}
    <ul class="nav nav-tabs nav-fill sectionNav">
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active':page == 0}">Basic Info</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active':page == 1}">Admin Rights</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active':page == 2}">Select Rota</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" [ngClass]="{'active':page == 3}">Confirm</a>
        </li>
    </ul>
    <!-- Basic Info -->
    <div class='mainform' *ngIf="page == 0"> 
        <h4>Enter New DJ Details</h4>
        <br>
        <form [formGroup]='newDJForm'>
          <div class="form-group row"> <!-- number   -->
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="djNumber">DJ Ref Number : </span>
              </div>
              <input type="text" class="form-control" aria-describedby="djNumber"
                [class.is-invalid]='(number.invalid || !numberValid) && number.touched'
                [class.is-valid]='(number.valid || numberValid) && number.touched'
                formControlName='number' id="number"
                placeholder="Enter Your DJ Ref Number" (blur)='checkDJNumber()'>
            </div>
            <ul *ngIf='(number.invalid || !numberValid) && number.touched '> <!-- error messages -->
              <li *ngIf='number.errors?.required' class='text-danger'>DJ Ref Number Is Required</li>
              <li *ngIf='number.errors?.isError' class='text-danger'>DJ Ref Number Is 7 Digits Long</li>
              <li *ngIf='!numberValid' class='text-danger'>{{ numberMessage }}</li>
            </ul>
          </div>
          <div class="form-group row"> <!-- name   -->
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="djName">Employee Name : </span>
              </div>
              <input type="text" class="form-control" aria-describedby="djName"
                      [class.is-invalid]='name.invalid && name.touched '
                      [class.is-valid]='name.valid && name.touched'
                      formControlName='name' id="name" placeholder="Enter Your Name">
            </div>
            <ul *ngIf='name.invalid && name.touched'> <!-- error messages -->
              <li *ngIf='name.errors?.required' class='text-danger'>Your Name Is Required</li>
              <li *ngIf='name.errors?.minlength || name.errors?.maxlength' class='text-danger'>Your Name Should Between 5 and 50 Letters Long</li>
              <li *ngIf='name.errors?.isError' class='text-danger'>Your Name Should Only Be Letters</li>
            </ul>
          </div>
          <div class="form-group row"> <!-- Password   -->
            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text" id="djPassword">Password : </span>
              </div>
              <input aria-describedby="djPassword"
              [class.is-invalid]='password.invalid && password.touched'
              [class.is-valid]='password.valid && password.touched'
              formControlName='password' type="text" class="form-control" id="password" placeholder="Password">
              <div class="input-group-append">
                <button class="btn btn-outline-success" type="button" [disabled]='generate' (click)='generatePassword()'>Generate</button>
              </div>
            </div>
            <ul *ngIf='password.invalid && password.touched'> <!-- error messages -->
              <li *ngIf='password.errors?.required' class='text-danger'>A Password Is Required</li>
              <li *ngIf='password.errors?.minlength || password.errors?.maxlength' class='text-danger'>Password Should Between 8 and 30 Characters Long</li>
              <li *ngIf='password.errors?.isError' class='text-danger'>Invalid Password</li>
            </ul>
          </div>
        </form>
    </div>

    <div class='messages'> <!-- messages -->
        <div class="alert alert-success" role="alert" *ngIf='successMsg'>{{ successMsg }}</div>
        <div class="alert alert-danger" role="alert" *ngIf='errorMsg'>{{ errorMsg }}</div>
    </div>
    <div *ngIf='!successMsg && !errorMsg'>
        <button type="button" class="btn btn-outline-dark btn-sm prevBtn" [disabled]='processing'
            *ngIf='page > 0' (click)='page = prevPage(page)'>Previous</button>
        <button type="button" class="btn btn-success btn-sm prevBtn" [disabled]='processing'
            (click)="cancel()">Cancel</button>
        <button type="button" class="btn btn-outline-dark btn-sm nextBtn" [disabled]='processing' 
            *ngIf='page != 3' (click)='page = nextPage(page)'>Next</button>
        <button type="button" class="btn btn-warning btn-sm nextBtn" [disabled]='!newEmployeeForm.valid || !employeeRotaForm.valid || processing'
            *ngIf='page == 3' (click)="submit()">Create New DJ</button>
    </div>
</div>